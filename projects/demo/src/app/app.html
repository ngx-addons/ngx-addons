<div class="auth-wrapper">
  <div class="auth-container">
    <omni-auth-ui-mat
      [config]="config"
    >
      <p sign-up-footer>
        By signing up, you agree to our <a class="link" tabindex="0">terms and conditions</a>
      </p>
    </omni-auth-ui-mat>
  </div>

  <div class="auth-debug">
    <h4>Current User:</h4>
    <pre>{{ authService.currentUser() | json }}</pre>
    @if (authService.idToken$ | async; as idToken) {
      <h4>ID Token:</h4>
      <textarea name="accessToken">{{ idToken }}</textarea>
      <h4>Expire at:</h4>
      <pre>{{ idToken.expireAt }}</pre>
      <h4>ID Token Payload:</h4>
      <pre>{{ idToken.payload | json }}</pre>
    }

    @if (authService.accessToken$ | async; as accessToken) {
      <h4>Access Token:</h4>
      <textarea name="accessToken">{{ accessToken }}</textarea>
      <h4>Expire at:</h4>
      <pre>{{ accessToken.expireAt }}</pre>
      <h4>Access Token Payload:</h4>
      <pre>{{ accessToken.payload | json }}</pre>
    }

    <button type="button" (click)="makeTestRequest()">Get request to test:</button>
  </div>
</div>
